<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>EventQueue</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.52 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="EventQueue"></a>EventQueue</h1><div class=CBody><p>A class to manage a queue of events.</p><p>The majority of the work done by a Pioneer Lua module is in response to events.&nbsp; The typical structure of a module will be to define a number of event handler functions and then register them with the appropriate event queues.</p><p>When particular events occur within the game, such as a ship docking or the player coming under attack, the appropriate <a href="#EventQueue" class=LClass id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">EventQueue</a> object is triggered.&nbsp; This causes all functions registered with the event queue to be called, in no particular order.</p><p>An event usually has one or more parameters attached to it that describe the details of the event.&nbsp; For example, the <a href="#EventQueue.onShipDocked" class=LEvent id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">onShipDocked</a> event has two parameters, the <a href="LuaShip-cpp.html#Ship" class=LClass id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">Ship</a> that docked, and the <a href="LuaSpaceStation-cpp.html#SpaceStation" class=LClass id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">SpaceStation</a> it docked with.</p><p>Many of these events are triggered as a result of something happening to a <a href="LuaShip-cpp.html#Ship" class=LClass id=link6 onMouseOver="ShowTip(event, 'tt4', 'link6')" onMouseOut="HideTip('tt4')">Ship</a>.&nbsp; The same events are used when something happens to a <a href="LuaPlayer-cpp.html#Player" class=LClass id=link7 onMouseOver="ShowTip(event, 'tt6', 'link7')" onMouseOut="HideTip('tt6')">Player</a> (which is also a <a href="LuaShip-cpp.html#Ship" class=LClass id=link8 onMouseOver="ShowTip(event, 'tt4', 'link8')" onMouseOut="HideTip('tt4')">Ship</a>).&nbsp; Call the <a href="LuaShip-cpp.html#Ship.IsPlayer" class=LMethod id=link9 onMouseOver="ShowTip(event, 'tt7', 'link9')" onMouseOut="HideTip('tt7')">Ship.IsPlayer</a> method on the <a href="LuaShip-cpp.html#Ship" class=LClass id=link10 onMouseOver="ShowTip(event, 'tt4', 'link10')" onMouseOut="HideTip('tt4')">Ship</a> if your module needs to know the difference.</p><p>The <a href="#EventQueue" class=LClass id=link11 onMouseOver="ShowTip(event, 'tt2', 'link11')" onMouseOut="HideTip('tt2')">EventQueue</a> objects are available under the global EventQueue namespace.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#EventQueue" >EventQueue</a></td><td class=SDescription>A class to manage a queue of events.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#EventQueue.Events" >Events</a></td><td class=SDescription></td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onGameStart" >onGameStart</a></td><td class=SDescription>Triggered when the game is first initialised.</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onGameEnd" >onGameEnd</a></td><td class=SDescription>Triggered when game is finished.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onEnterSystem" >onEnterSystem</a></td><td class=SDescription>Triggered when a ship enters a system after hyperspace.</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onLeaveSystem" >onLeaveSystem</a></td><td class=SDescription>Triggered immediately before ship leaves a system and enters hyperspace.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onFrameChanged" >onFrameChanged</a></td><td class=SDescription>Triggered as a dynamic <a href="LuaBody-cpp.html#Body" class=LClass id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Body</a> moves between frames of reference.</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onShipDestroyed" >onShipDestroyed</a></td><td class=SDescription>Triggered when a ship is destroyed.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onShipHit" >onShipHit</a></td><td class=SDescription>Triggered when a ship is hit by laser fire or a missile.</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onShipCollided" >onShipCollided</a></td><td class=SDescription>Triggered when a ship collides with an object.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onShipDocked" >onShipDocked</a></td><td class=SDescription>Triggered when a ship docks with a space station.</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onShipUndocked" >onShipUndocked</a></td><td class=SDescription>Triggered when a ship undocks with a space station.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onShipLanded" >onShipLanded</a></td><td class=SDescription>Triggered when a ship performs a surface landing (not on a spaceport).</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onShipTakeOff" >onShipTakeOff</a></td><td class=SDescription>Triggered when a ship takes off from a surface (not from a spaceport).</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onShipAlertChanged" >onShipAlertChanged</a></td><td class=SDescription>Triggered when a ship&rsquo;s alert status changes.</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onShipEquipmentChanged" >onShipEquipmentChanged</a></td><td class=SDescription>Triggered when a ship&rsquo;s equipment set changes.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onShipFlavourChanged" >onShipFlavourChanged</a></td><td class=SDescription>Triggered when a ship&rsquo;s type, registration or graphical flavour changes.</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onJettison" >onJettison</a></td><td class=SDescription>Triggered when a ship jettisons a cargo item.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onAICompleted" >onAICompleted</a></td><td class=SDescription>Triggered when a ship AI completes</td></tr><tr class="SEvent SIndent2"><td class=SEntry><a href="#EventQueue.onCreateBB" >onCreateBB</a></td><td class=SDescription>Triggered when a space station bulletin board is created.</td></tr><tr class="SEvent SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.onUpdateBB" >onUpdateBB</a></td><td class=SDescription>Triggered every 1-2 hours of game time to update the bulletin board.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#EventQueue.Methods" >Methods</a></td><td class=SDescription></td></tr><tr class="SMethod SIndent2 SMarked"><td class=SEntry><a href="#EventQueue.Connect" >Connect</a></td><td class=SDescription>Connect a function to an event queue. </td></tr><tr class="SMethod SIndent2"><td class=SEntry><a href="#EventQueue.Disconnect" >Disconnect</a></td><td class=SDescription>Disconnects a function from an event queue. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="EventQueue.Events"></a>Events</h3></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onGameStart"></a>onGameStart</h3><div class=CBody><p>Triggered when the game is first initialised.</p><blockquote><pre>local onGameStart = function () ... end
EventQueue.onGameStart:Connect(onGameStart)</pre></blockquote><p>onGameStart is triggered just after the physics <a href="LuaBody-cpp.html#Body" class=LClass id=link12 onMouseOver="ShowTip(event, 'tt1', 'link12')" onMouseOut="HideTip('tt1')">Body</a> objects (including the <a href="LuaPlayer-cpp.html#Player" class=LClass id=link13 onMouseOver="ShowTip(event, 'tt6', 'link13')" onMouseOut="HideTip('tt6')">Player</a>) are placed.</p><p>This is a good place to add equipment to the Player ship or spawn objects in the space.&nbsp; You should also initialise your module data for the game here.</p><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onGameEnd"></a>onGameEnd</h3><div class=CBody><p>Triggered when game is finished.</p><blockquote><pre>local onGameEnd = function () ... end
EventQueue.onGameEnd:Connect(onGameEnd)</pre></blockquote><p>Triggered just before the physics <a href="LuaBody-cpp.html#Body" class=LClass id=link14 onMouseOver="ShowTip(event, 'tt1', 'link14')" onMouseOut="HideTip('tt1')">Body</a> objects (include the <a href="LuaPlayer-cpp.html#Player" class=LClass id=link15 onMouseOver="ShowTip(event, 'tt6', 'link15')" onMouseOut="HideTip('tt6')">Player</a>) are destroyed and Pioneer returns to the main menu.</p><p>You should clean up any game data here.&nbsp; Remember that your module will be re-used if the player begins another game.&nbsp; You probably don&rsquo;t want any data from a previous game to leak into a new one.</p><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onEnterSystem"></a>onEnterSystem</h3><div class=CBody><p>Triggered when a ship enters a system after hyperspace.</p><blockquote><pre>local onEnterSystem = function (ship) ... end
EventQueue.onEnterSystem:Connect(onEnterSystem)</pre></blockquote><p>This is the place to spawn pirates and other attack ships to give the illusion that the ship was followed through hyperspace.</p><p>Note that this event is <b>not</b> triggered at game start.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link16 onMouseOver="ShowTip(event, 'tt4', 'link16')" onMouseOut="HideTip('tt4')">Ship</a> that entered the system</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onLeaveSystem"></a>onLeaveSystem</h3><div class=CBody><p>Triggered immediately before ship leaves a system and enters hyperspace.</p><blockquote><pre>local onLeaveSystem = function (ship) ... end
EventQueue.onLeaveSystem:Connect(onLeaveSystem)</pre></blockquote><p>If the ship was the player then all physics <a href="LuaBody-cpp.html#Body" class=LClass id=link17 onMouseOver="ShowTip(event, 'tt1', 'link17')" onMouseOut="HideTip('tt1')">Body</a> objects are invalid after this method returns.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link18 onMouseOver="ShowTip(event, 'tt4', 'link18')" onMouseOut="HideTip('tt4')">Ship</a> that left the system</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onFrameChanged"></a>onFrameChanged</h3><div class=CBody><p>Triggered as a dynamic <a href="LuaBody-cpp.html#Body" class=LClass id=link19 onMouseOver="ShowTip(event, 'tt1', 'link19')" onMouseOut="HideTip('tt1')">Body</a> moves between frames of reference.</p><blockquote><pre>local onFrameChanged = function (body) ... end
EventQueue.onFrameChanged:Connect(onFrameChanged)</pre></blockquote><p>Details of the new frame itself can be obtained from the body&rsquo;s <a href="LuaBody-cpp.html#Body.frameBody" class=LAttribute id=link20 onMouseOver="ShowTip(event, 'tt8', 'link20')" onMouseOut="HideTip('tt8')">Body.frameBody</a> and <a href="LuaBody-cpp.html#Body.frameRotating" class=LAttribute id=link21 onMouseOver="ShowTip(event, 'tt9', 'link21')" onMouseOut="HideTip('tt9')">Body.frameRotating</a> attributes.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>body</td><td class=CDLDescription>the dynamic <a href="LuaBody-cpp.html#Body" class=LClass id=link22 onMouseOver="ShowTip(event, 'tt1', 'link22')" onMouseOut="HideTip('tt1')">Body</a> that changed frames</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 12</p><h4 class=CHeading>Status</h4><p>experimental</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipDestroyed"></a>onShipDestroyed</h3><div class=CBody><p>Triggered when a ship is destroyed.</p><blockquote><pre>local onShipDestroyed = function (ship, attacker) ... end
EventQueue.onShipDestroyed:Connect(onShipDestroyed)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the ship that was destroyed</td></tr><tr><td class=CDLEntry>attacker</td><td class=CDLDescription>the <a href="LuaBody-cpp.html#Body" class=LClass id=link23 onMouseOver="ShowTip(event, 'tt1', 'link23')" onMouseOut="HideTip('tt1')">Body</a> that was responsible for reducing the ship&rsquo;s hull strength to 0.&nbsp; Usually a ship that fired lasers or missiles, but may be another <a href="LuaBody-cpp.html#Body" class=LClass id=link24 onMouseOver="ShowTip(event, 'tt1', 'link24')" onMouseOut="HideTip('tt1')">Body</a> (eg <a href="LuaPlanet-cpp.html#Planet" class=LClass id=link25 onMouseOver="ShowTip(event, 'tt10', 'link25')" onMouseOut="HideTip('tt10')">Planet</a> or <a href="LuaSpaceStation-cpp.html#SpaceStation" class=LClass id=link26 onMouseOver="ShowTip(event, 'tt5', 'link26')" onMouseOut="HideTip('tt5')">SpaceStation</a>) if the ship was destroyed by a collision.</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipHit"></a>onShipHit</h3><div class=CBody><p>Triggered when a ship is hit by laser fire or a missile.</p><blockquote><pre>local onShipHit = function (ship, attacker) ... end
EventQueue.onShipHit:Connect(onShipHit)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link27 onMouseOver="ShowTip(event, 'tt4', 'link27')" onMouseOut="HideTip('tt4')">Ship</a> that was hit</td></tr><tr><td class=CDLEntry>attacker</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link28 onMouseOver="ShowTip(event, 'tt4', 'link28')" onMouseOut="HideTip('tt4')">Ship</a> that fired the laser or missile</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipCollided"></a>onShipCollided</h3><div class=CBody><p>Triggered when a ship collides with an object.</p><blockquote><pre>local onShipCollided = function (ship, other) ... end
EventQueue.onShipCollided:Connect(onShipCollided)</pre></blockquote><p>If the ship collides with a city building on a planet it will register as as collision with the planet itself.</p><p>If the ship &ldquo;collides&rdquo; with a missile, <a href="#EventQueue.onShipHit" class=LEvent id=link29 onMouseOver="ShowTip(event, 'tt11', 'link29')" onMouseOut="HideTip('tt11')">onShipHit</a> will be triggered instead of <a href="#EventQueue.onShipCollided" class=LEvent id=link30 onMouseOver="ShowTip(event, 'tt12', 'link30')" onMouseOut="HideTip('tt12')">onShipCollided</a>.</p><p>If the ship hit another <a href="LuaShip-cpp.html#Ship" class=LClass id=link31 onMouseOver="ShowTip(event, 'tt4', 'link31')" onMouseOut="HideTip('tt4')">Ship</a>, this event will be triggered twice, once for each ship.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link32 onMouseOver="ShowTip(event, 'tt4', 'link32')" onMouseOut="HideTip('tt4')">Ship</a> that was hit</td></tr><tr><td class=CDLEntry>other</td><td class=CDLDescription>the <a href="LuaBody-cpp.html#Body" class=LClass id=link33 onMouseOver="ShowTip(event, 'tt1', 'link33')" onMouseOut="HideTip('tt1')">Body</a> that the ship collided with</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipDocked"></a>onShipDocked</h3><div class=CBody><p>Triggered when a ship docks with a space station.</p><blockquote><pre>local onShipDocked = function (ship, station) ... end
EventQueue.onShipDocked:Connect(onShipDocked)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link34 onMouseOver="ShowTip(event, 'tt4', 'link34')" onMouseOut="HideTip('tt4')">Ship</a> that docked</td></tr><tr><td class=CDLEntry>station</td><td class=CDLDescription>the <a href="LuaSpaceStation-cpp.html#SpaceStation" class=LClass id=link35 onMouseOver="ShowTip(event, 'tt5', 'link35')" onMouseOut="HideTip('tt5')">SpaceStation</a> the ship docked with</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipUndocked"></a>onShipUndocked</h3><div class=CBody><p>Triggered when a ship undocks with a space station.</p><blockquote><pre>local onShipUndocked = function (ship, station) ... end
EventQueue.onShipUndocked:Connect(onShipUndocked)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link36 onMouseOver="ShowTip(event, 'tt4', 'link36')" onMouseOut="HideTip('tt4')">Ship</a> that docked</td></tr><tr><td class=CDLEntry>station</td><td class=CDLDescription>the <a href="LuaSpaceStation-cpp.html#SpaceStation" class=LClass id=link37 onMouseOver="ShowTip(event, 'tt5', 'link37')" onMouseOut="HideTip('tt5')">SpaceStation</a> the ship undocked with</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipLanded"></a>onShipLanded</h3><div class=CBody><p>Triggered when a ship performs a surface landing (not on a spaceport).</p><blockquote><pre>local onShipLanded = function (ship, body) ... end
EventQueue.onShipLanded:Connect(onShipLanded)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link38 onMouseOver="ShowTip(event, 'tt4', 'link38')" onMouseOut="HideTip('tt4')">Ship</a> that landed</td></tr><tr><td class=CDLEntry>body</td><td class=CDLDescription>the <a href="LuaBody-cpp.html#Body" class=LClass id=link39 onMouseOver="ShowTip(event, 'tt1', 'link39')" onMouseOut="HideTip('tt1')">Body</a> the ship landed on</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 13</p><h4 class=CHeading>Status</h4><p>experimental</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipTakeOff"></a>onShipTakeOff</h3><div class=CBody><p>Triggered when a ship takes off from a surface (not from a spaceport).</p><blockquote><pre>local onBlastOff = function (ship, body) ... end
EventQueue.onShipTakeOff:Connect(onBlastOff)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link40 onMouseOver="ShowTip(event, 'tt4', 'link40')" onMouseOut="HideTip('tt4')">Ship</a> that took off</td></tr><tr><td class=CDLEntry>body</td><td class=CDLDescription>the <a href="LuaBody-cpp.html#Body" class=LClass id=link41 onMouseOver="ShowTip(event, 'tt1', 'link41')" onMouseOut="HideTip('tt1')">Body</a> the ship took off from</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 13</p><h4 class=CHeading>Status</h4><p>experimental</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipAlertChanged"></a>onShipAlertChanged</h3><div class=CBody><p>Triggered when a ship&rsquo;s alert status changes.</p><blockquote><pre>local onShipAlertChanged = function (ship, alert) ... end
EventQueue.onShipAlertChanged:Connect(onShipAlertChanged)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link42 onMouseOver="ShowTip(event, 'tt4', 'link42')" onMouseOut="HideTip('tt4')">Ship</a> that changed status</td></tr><tr><td class=CDLEntry>alert</td><td class=CDLDescription>the new <a href="LuaConstants-cpp.html#Constants.ShipAlertStatus" class=LConstant id=link43 onMouseOver="ShowTip(event, 'tt13', 'link43')" onMouseOut="HideTip('tt13')">Constants.ShipAlertStatus</a></td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipEquipmentChanged"></a>onShipEquipmentChanged</h3><div class=CBody><p>Triggered when a ship&rsquo;s equipment set changes.</p><blockquote><pre>local onShipEquipmentChanged = function (ship, equipType) ... end
EventQueue.onShipEquipmentChanged:Connect(onShipEquipmentChanged)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link44 onMouseOver="ShowTip(event, 'tt4', 'link44')" onMouseOut="HideTip('tt4')">Ship</a> whose equipment just changed</td></tr><tr><td class=CDLEntry>equipType</td><td class=CDLDescription>the string ID of the <a href="LuaEquipType-cpp.html#EquipType" class=LClass id=link45 onMouseOver="ShowTip(event, 'tt14', 'link45')" onMouseOut="HideTip('tt14')">EquipType</a> that was added or removed, or &lsquo;NONE&rsquo; if the change involved multiple types of equipment</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 15</p><h4 class=CHeading>Status</h4><p>experimental</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onShipFlavourChanged"></a>onShipFlavourChanged</h3><div class=CBody><p>Triggered when a ship&rsquo;s type, registration or graphical flavour changes.</p><blockquote><pre>local onShipFlavourChanged = function (ship) ... end
EventQueue.onShipFlavourChanged:Connect(onShipFlavourChanged)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link46 onMouseOver="ShowTip(event, 'tt4', 'link46')" onMouseOut="HideTip('tt4')">Ship</a> whose type or graphical flavour just changed</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 15</p><h4 class=CHeading>Status</h4><p>experimental</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onJettison"></a>onJettison</h3><div class=CBody><p>Triggered when a ship jettisons a cargo item.</p><blockquote><pre>local onJettison = function (ship, cargo) ... end
EventQueue.onJettison:Connect(onJettison)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link47 onMouseOver="ShowTip(event, 'tt4', 'link47')" onMouseOut="HideTip('tt4')">Ship</a> that jettisoned the cargo item</td></tr><tr><td class=CDLEntry>cargo</td><td class=CDLDescription>the <a href="LuaCargoBody-cpp.html#CargoBody" class=LClass id=link48 onMouseOver="ShowTip(event, 'tt15', 'link48')" onMouseOut="HideTip('tt15')">CargoBody</a> now drifting in space</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>experimental</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onAICompleted"></a>onAICompleted</h3><div class=CBody><p>Triggered when a ship AI completes</p><blockquote><pre>local onAICompleted = function (ship) ... end
EventQueue.onAICompleted:Connect(onAICompleted)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ship</td><td class=CDLDescription>the <a href="LuaShip-cpp.html#Ship" class=LClass id=link49 onMouseOver="ShowTip(event, 'tt4', 'link49')" onMouseOut="HideTip('tt4')">Ship</a></td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onCreateBB"></a>onCreateBB</h3><div class=CBody><p>Triggered when a space station bulletin board is created.</p><blockquote><pre>local onCreateBB = function (station) ... end
EventQueue.onCreateBB:Connect(onCreateBB)</pre></blockquote><p>The usual function of a <a href="#EventQueue.onCreateBB" class=LEvent id=link50 onMouseOver="ShowTip(event, 'tt16', 'link50')" onMouseOut="HideTip('tt16')">onCreateBB</a> event handler is to call <a href="LuaSpaceStation-cpp.html#SpaceStation.AddAdvert" class=LMethod id=link51 onMouseOver="ShowTip(event, 'tt17', 'link51')" onMouseOut="HideTip('tt17')">SpaceStation.AddAdvert</a> to populate the bulletin board with ads.</p><p>This event is triggered the first time a <a href="LuaShip-cpp.html#Ship" class=LClass id=link52 onMouseOver="ShowTip(event, 'tt4', 'link52')" onMouseOut="HideTip('tt4')">Ship</a> docks with the station or is placed directly into the station (eg by <a href="LuaSpace-cpp.html#Space.SpawnShipDocked" class=LFunction id=link53 onMouseOver="ShowTip(event, 'tt18', 'link53')" onMouseOut="HideTip('tt18')">Space.SpawnShipDocked</a> or at game start)</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>station</td><td class=CDLDescription>the <a href="LuaSpaceStation-cpp.html#SpaceStation" class=LClass id=link54 onMouseOver="ShowTip(event, 'tt5', 'link54')" onMouseOut="HideTip('tt5')">SpaceStation</a> the bulletin board is being created for</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CEvent"><div class=CTopic><h3 class=CTitle><a name="EventQueue.onUpdateBB"></a>onUpdateBB</h3><div class=CBody><p>Triggered every 1-2 hours of game time to update the bulletin board.</p><blockquote><pre>local onUpdateBB = function (station) ... end
EventQueue.onUpdateBB:Connect(onUpdateBB)</pre></blockquote><p>The usual function of a <a href="#EventQueue.onUpdateBB" class=LEvent id=link55 onMouseOver="ShowTip(event, 'tt19', 'link55')" onMouseOut="HideTip('tt19')">onUpdateBB</a> event handler is to call <a href="LuaSpaceStation-cpp.html#SpaceStation.AddAdvert" class=LMethod id=link56 onMouseOver="ShowTip(event, 'tt17', 'link56')" onMouseOut="HideTip('tt17')">SpaceStation.AddAdvert</a> and <a href="LuaSpaceStation-cpp.html#SpaceStation.RemoveAdvert" class=LMethod id=link57 onMouseOver="ShowTip(event, 'tt20', 'link57')" onMouseOut="HideTip('tt20')">SpaceStation.RemoveAdvert</a> to update the bulletin board.</p><p>This event is triggered at a random game time 1-2 hours after it was previously called.&nbsp; This period is subject to change; script authors should not rely on it.</p><p><a href="#EventQueue.onUpdateBB" class=LEvent id=link58 onMouseOver="ShowTip(event, 'tt19', 'link58')" onMouseOut="HideTip('tt19')">onUpdateBB</a> will never be triggered for a station that has not previously had <a href="#EventQueue.onCreateBB" class=LEvent id=link59 onMouseOver="ShowTip(event, 'tt16', 'link59')" onMouseOut="HideTip('tt16')">onCreateBB</a> triggered for it.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>station</td><td class=CDLDescription>the <a href="LuaSpaceStation-cpp.html#SpaceStation" class=LClass id=link60 onMouseOver="ShowTip(event, 'tt5', 'link60')" onMouseOut="HideTip('tt5')">SpaceStation</a> the bulletin board is being updated for</td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="EventQueue.Methods"></a>Methods</h3></div></div>

<div class="CMethod"><div class=CTopic><h3 class=CTitle><a name="EventQueue.Connect"></a>Connect</h3><div class=CBody><p>Connect a function to an event queue.&nbsp; When the queue emits an event, the function will be called.</p><blockquote><pre>onEvent:Connect(function)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>function</td><td class=CDLDescription>function to call when the queue emits an event.&nbsp; The function will recieve a copy of the parameters attached to the event</td></tr></table><h4 class=CHeading>Example</h4><blockquote><pre>EventQueue.onEnterSystem:Connect(function (ship)
    print(&quot;welcome to &quot;..Game.system.name..&quot;, &quot;..ship.label)
end)</pre></blockquote><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

<div class="CMethod"><div class=CTopic><h3 class=CTitle><a name="EventQueue.Disconnect"></a>Disconnect</h3><div class=CBody><p>Disconnects a function from an event queue.&nbsp; The function will no long receive events emitted by the queue.</p><p>If the function is not connected to the queue this method does nothing.</p><blockquote><pre>onEvent:Disconnect(function)</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>function</td><td class=CDLDescription>a function that was previously connected to this queue with <a href="#EventQueue.Connect" class=LMethod id=link61 onMouseOver="ShowTip(event, 'tt21', 'link61')" onMouseOut="HideTip('tt21')">Connect</a></td></tr></table><h4 class=CHeading>Availability</h4><p>alpha 10</p><h4 class=CHeading>Status</h4><p>stable</p></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MFile><a href="LuaBody-cpp.html">Body</a></div></div><div class=MEntry><div class=MFile><a href="LuaCargoBody-cpp.html">CargoBody</a></div></div><div class=MEntry><div class=MFile><a href="LuaChatForm-cpp.html">ChatForm</a></div></div><div class=MEntry><div class=MFile><a href="LuaConsole-cpp.html">Console</a></div></div><div class=MEntry><div class=MFile><a href="LuaConstants-cpp.html">Constants</a></div></div><div class=MEntry><div class=MFile><a href="LuaEngine-cpp.html">Engine</a></div></div><div class=MEntry><div class=MFile><a href="LuaEquipType-cpp.html">EquipType</a></div></div><div class=MEntry><div class=MFile id=MSelected>EventQueue</div></div><div class=MEntry><div class=MFile><a href="LuaFormat-cpp.html">Format</a></div></div><div class=MEntry><div class=MFile><a href="LuaGame-cpp.html">Game</a></div></div><div class=MEntry><div class=MFile><a href="LmrModel-cpp.html">LMR</a></div></div><div class=MEntry><div class=MFile><a href="LuaMusic-cpp.html">Music</a></div></div><div class=MEntry><div class=MFile><a href="LuaNameGen-cpp.html">NameGen</a></div></div><div class=MEntry><div class=MFile><a href="LuaObject-cpp.html">Object</a></div></div><div class=MEntry><div class=MFile><a href="LuaPlanet-cpp.html">Planet</a></div></div><div class=MEntry><div class=MFile><a href="LuaPlayer-cpp.html">Player</a></div></div><div class=MEntry><div class=MFile><a href="LuaRand-cpp.html">Rand</a></div></div><div class=MEntry><div class=MFile><a href="LuaShip-cpp.html">Ship</a></div></div><div class=MEntry><div class=MFile><a href="LuaShipType-cpp.html">ShipType</a></div></div><div class=MEntry><div class=MFile><a href="LuaSpace-cpp.html">Space</a></div></div><div class=MEntry><div class=MFile><a href="LuaSpaceStation-cpp.html">SpaceStation</a></div></div><div class=MEntry><div class=MFile><a href="LuaStar-cpp.html">Star</a></div></div><div class=MEntry><div class=MFile><a href="LuaStarSystem-cpp.html">StarSystem</a></div></div><div class=MEntry><div class=MFile><a href="LuaSBody-cpp.html">SystemBody</a></div></div><div class=MEntry><div class=MFile><a href="LuaSystemPath-cpp.html">SystemPath</a></div></div><div class=MEntry><div class=MFile><a href="LuaTimer-cpp.html">Timer</a></div></div><div class=MEntry><div class=MFile><a href="LuaUI-cpp.html">UI</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Index</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Interfaces.html">Interfaces</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Events.html">Events</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Attributes.html">Attributes</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Methods.html">Methods</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Constants.html">Constants</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Attributes">Attributes</option><option value="Classes">Classes</option><option value="Constants">Constants</option><option value="Events">Events</option><option value="Functions">Functions</option><option value="Interfaces">Interfaces</option><option value="Methods">Methods</option></select></div><script language=JavaScript><!--
HideAllBut([], 2);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CClass>Class represents a physical body.</div></div><div class=CToolTip id="tt2"><div class=CClass>A class to manage a queue of events.</div></div><div class=CToolTip id="tt3"><div class=CEvent>Triggered when a ship docks with a space station.</div></div><div class=CToolTip id="tt4"><div class=CClass>Class representing a ship. </div></div><div class=CToolTip id="tt5"><div class=CClass>Class representing a space station. </div></div><div class=CToolTip id="tt6"><div class=CClass>Class representing the player. </div></div><div class=CToolTip id="tt7"><div class=CMethod>Determines if the ship is the player ship</div></div><div class=CToolTip id="tt8"><div class=CAttribute>The non-dynamic body attached to the frame this dynamic body is in.</div></div><div class=CToolTip id="tt9"><div class=CAttribute>Whether the frame this dynamic body is in is a rotating frame.</div></div><div class=CToolTip id="tt10"><div class=CClass>Class representing a planet. </div></div><div class=CToolTip id="tt11"><div class=CEvent>Triggered when a ship is hit by laser fire or a missile.</div></div><div class=CToolTip id="tt12"><div class=CEvent>Triggered when a ship collides with an object.</div></div><div class=CToolTip id="tt13"><div class=CConstant>Current alert status. </div></div><div class=CToolTip id="tt14"><div class=CClass>Class for a description of a type of equipment or cargo.</div></div><div class=CToolTip id="tt15"><div class=CClass>Class representing an item of cargo floating in space. </div></div><div class=CToolTip id="tt16"><div class=CEvent>Triggered when a space station bulletin board is created.</div></div><div class=CToolTip id="tt17"><div class=CMethod>Add an advertisement to the station&rsquo;s bulletin board</div></div><div class=CToolTip id="tt18"><div class=CFunction>Create a ship and place it inside the given SpaceStation.</div></div><div class=CToolTip id="tt19"><div class=CEvent>Triggered every 1-2 hours of game time to update the bulletin board.</div></div><div class=CToolTip id="tt20"><div class=CMethod>Remove an advertisement from the station&rsquo;s bulletin board</div></div><div class=CToolTip id="tt21"><div class=CMethod>Connect a function to an event queue. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>